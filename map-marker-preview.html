<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì§€ë„ ë§ˆì»¤ ì´ë¦„ í‘œì‹œ í”„ë¦¬ë·°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            height: 100vh;
            overflow: hidden;
        }

        #map {
            width: 100%;
            height: 100vh;
            background: #e0e0e0;
            position: relative;
            overflow: hidden;
        }

        .custom-marker-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .custom-marker-container:hover {
            transform: scale(1.15);
        }

        .marker-svg {
            filter: drop-shadow(0 2px 6px rgba(0,0,0,0.3));
        }

        .restaurant-name {
            margin-top: 4px;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            white-space: nowrap;
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            border: 1px solid rgba(0,0,0,0.1);
            pointer-events: none;
            max-width: 120px;
            overflow: hidden;
            text-overflow: ellipsis;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .restaurant-name.hidden {
            opacity: 0;
            transform: translateY(-5px);
            pointer-events: none;
        }

        .info-panel {
            position: fixed;
            top: 20px;
            left: 20px;
            background: white;
            padding: 16px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
            max-width: 300px;
        }

        .info-panel h3 {
            font-size: 16px;
            margin-bottom: 12px;
            color: #333;
        }

        .info-panel p {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
            margin-bottom: 8px;
        }

        .zoom-level {
            font-weight: 600;
            color: #667eea;
        }

        .zoom-controls {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            padding: 12px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .zoom-btn {
            width: 40px;
            height: 40px;
            border: 1px solid #e0e0e0;
            background: white;
            border-radius: 4px;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .zoom-btn:hover {
            background: #f5f5f5;
            border-color: #667eea;
        }

        .zoom-btn:active {
            transform: scale(0.95);
        }

        .marker-wrapper {
            position: absolute;
            transform: translate(-50%, -100%);
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .marker-wrapper:hover {
            transform: translate(-50%, -100%) scale(1.15);
        }
    </style>
</head>
<body>
    <div id="map">
        <!-- ë§ˆì»¤ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
    </div>
    
    <div class="info-panel">
        <h3>ğŸ“Œ ë§ˆì»¤ ì´ë¦„ í‘œì‹œ í”„ë¦¬ë·°</h3>
        <p>ì§€ë„ë¥¼ <strong>í™•ëŒ€</strong>í•˜ë©´ (ì¤Œ ë ˆë²¨ì´ ë‚®ì•„ì§€ë©´) ê° ë§ˆì»¤ ì•„ë˜ì— ìŒì‹ì  ì´ë¦„ì´ í‘œì‹œë©ë‹ˆë‹¤.</p>
        <p>ì´ë¦„ ìƒ‰ìƒì€ ê° ë§ˆì»¤ ìƒ‰ìƒì— ë§ëŠ” ë¹¨ê°„ìƒ‰ í†¤ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.</p>
        <p style="font-size: 12px; color: #999; margin-top: 8px;">
            5ë‹¨ê³„ ë¹¨ê°„ìƒ‰ ê³„ì—´: ì—°í•œ ë¹¨ê°• â†’ ë°ì€ ë¹¨ê°• â†’ ì¤‘ê°„ ë¹¨ê°• â†’ ì§„í•œ ë¹¨ê°•
        </p>
        <p>í˜„ì¬ ì¤Œ ë ˆë²¨: <span class="zoom-level" id="zoomLevel">3</span></p>
        <p style="font-size: 12px; color: #666; margin-top: 4px;">
            <strong>ë ˆë²¨ 5</strong> = ì•½ 500m~1km ë°˜ê²½ (ë™ë„¤ ë‹¨ìœ„)<br>
            ë ˆë²¨ 5 ì´í•˜ì—ì„œ ê°€ê²Œ ì´ë¦„ì´ í‘œì‹œë©ë‹ˆë‹¤.
        </p>
        <p style="margin-top: 12px; font-size: 12px; color: #999;">
            ğŸ’¡ ì•„ë˜ ì¤Œ ë²„íŠ¼ì„ ì‚¬ìš©í•˜ì—¬ í™•ëŒ€/ì¶•ì†Œí•´ë³´ì„¸ìš”
        </p>
    </div>

    <div class="zoom-controls">
        <button class="zoom-btn" id="zoomIn">+</button>
        <button class="zoom-btn" id="zoomOut">âˆ’</button>
    </div>

    <script>
        // ìƒ˜í”Œ ë ˆìŠ¤í† ë‘ ë°ì´í„° (í™”ë©´ ì¢Œí‘œë¡œ ë³€í™˜) - 5ê°œë§Œ
        const restaurants = [
            { id: 1, name: "ë§›ìˆëŠ” íŒŒìŠ¤íƒ€ì§‘", x: 25, y: 30, colorIndex: 0 },
            { id: 2, name: "ê³ ê¸‰ í•œì‹ë‹¹", x: 40, y: 35, colorIndex: 1 },
            { id: 3, name: "ì‹ ì„ í•œ ì´ˆë°¥", x: 55, y: 40, colorIndex: 2 },
            { id: 4, name: "ë¶„ìœ„ê¸° ì¢‹ì€ ì¹´í˜", x: 70, y: 35, colorIndex: 3 },
            { id: 5, name: "ë¶ˆê³ ê¸° ì „ë¬¸ì ", x: 50, y: 50, colorIndex: 4 }
        ];

        // í˜„ì¬ ì¤Œ ë ˆë²¨ (3 = ê¸°ë³¸, ìˆ«ìê°€ ë‚®ì„ìˆ˜ë¡ í™•ëŒ€)
        let currentZoomLevel = 3;

        // ë¹¨ê°„ìƒ‰ ê³„ì—´ ìƒ‰ìƒ íŒ”ë ˆíŠ¸ (#ff6b6b ëŠë‚Œì˜ ë°ê³  ì„ ëª…í•œ ë¹¨ê°• ê³„ì—´) - 5ë‹¨ê³„
        const colorPalettes = [
            { marker: '#ffb3b3', text: '#cc0000' },      // 1ë‹¨ê³„: ë§¤ìš° ì—°í•œ ë¹¨ê°• (íšŒìƒ‰ì— ê°€ê¹Œìš´ ëŠë‚Œ)
            { marker: '#ff9292', text: '#cc0000' },      // 2ë‹¨ê³„: ì—°í•œ ë¹¨ê°•
            { marker: '#ff6b6b', text: '#cc0000' },     // 3ë‹¨ê³„: ê¸°ì¤€ ìƒ‰ìƒ (ë°ì€ ë¹¨ê°•)
            { marker: '#ff4a4a', text: '#cc0000' },     // 4ë‹¨ê³„: ì¤‘ê°„ ë¹¨ê°•
            { marker: '#ff2929', text: '#cc0000' }       // 5ë‹¨ê³„: ì§„í•œ ë¹¨ê°•
        ];

        // ìƒ‰ìƒ ì¸ë±ìŠ¤ì— ë”°ë¥¸ ë§ˆì»¤ ìƒ‰ìƒ ê°€ì ¸ì˜¤ê¸°
        function getMarkerColor(colorIndex) {
            return colorPalettes[colorIndex % colorPalettes.length].marker;
        }

        // ìƒ‰ìƒ ì¸ë±ìŠ¤ì— ë”°ë¥¸ í…ìŠ¤íŠ¸ ìƒ‰ìƒ ê°€ì ¸ì˜¤ê¸°
        function getTextColor(colorIndex) {
            return colorPalettes[colorIndex % colorPalettes.length].text;
        }

        // ë§ˆì»¤ ìƒì„± í•¨ìˆ˜
        function createMarker(restaurant) {
            const markerColor = getMarkerColor(restaurant.colorIndex);
            const textColor = getTextColor(restaurant.colorIndex);
            const size = 25;
            const showName = currentZoomLevel <= 5; // ì¤Œ ë ˆë²¨ 5 ì´í•˜ì¼ ë•Œ ì´ë¦„ í‘œì‹œ
            
            const markerWrapper = document.createElement('div');
            markerWrapper.className = 'marker-wrapper';
            markerWrapper.style.left = `${restaurant.x}%`;
            markerWrapper.style.top = `${restaurant.y}%`;
            
            markerWrapper.innerHTML = `
                <div class="custom-marker-container">
                    <svg width="${size}" height="${size}" viewBox="0 0 40 50" xmlns="http://www.w3.org/2000/svg" class="marker-svg">
                        <path
                            d="M20 0 C10 0, 2 8, 2 18 C2 28, 10 35, 20 50 C30 35, 38 28, 38 18 C38 8, 30 0, 20 0 Z"
                            fill="${markerColor}"
                            stroke="white"
                            stroke-width="2.5"
                        />
                    </svg>
                    <div class="restaurant-name ${showName ? '' : 'hidden'}" style="color: ${textColor};">
                        ${restaurant.name}
                    </div>
                </div>
            `;
            
            return markerWrapper;
        }

        // ë§ˆì»¤ ë Œë”ë§
        function renderMarkers() {
            const map = document.getElementById('map');
            
            // ê¸°ì¡´ ë§ˆì»¤ ì œê±°
            const existingMarkers = map.querySelectorAll('.marker-wrapper');
            existingMarkers.forEach(marker => marker.remove());
            
            // ìƒˆ ë§ˆì»¤ ì¶”ê°€
            restaurants.forEach(restaurant => {
                const marker = createMarker(restaurant);
                map.appendChild(marker);
            });
            
            // ì¤Œ ë ˆë²¨ ì—…ë°ì´íŠ¸
            document.getElementById('zoomLevel').textContent = currentZoomLevel;
        }

        // ì¤Œ ì¸
        document.getElementById('zoomIn').addEventListener('click', () => {
            if (currentZoomLevel > 1) {
                currentZoomLevel--;
                renderMarkers();
            }
        });

        // ì¤Œ ì•„ì›ƒ
        document.getElementById('zoomOut').addEventListener('click', () => {
            if (currentZoomLevel < 14) {
                currentZoomLevel++;
                renderMarkers();
            }
        });

        // ì´ˆê¸° ë Œë”ë§
        renderMarkers();
    </script>
</body>
</html>
